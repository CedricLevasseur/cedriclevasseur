<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
 Overview
</title>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="banner.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>banner.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		This program insert a random image using jquery library 
 
 the configuration of the images to be randomly display are in the banner.json file
 this file can contain either images (jpg, png) or flash
 here is a example of the banner.json file
 <pre>
 [
 	{"src":"http://www.numerikids.com/alpha/wp-content/uploads/2009/06/mario_bros.jpg",
	"link":"http://www.google.fr"},
	{"src":"http://monophonik.com/wp-content/uploads/2009/06/mario-wii.jpg",
	"link":"http://www.bing.com"},
	{"src":"http://www.nintendolesite.com/images/news/news_Nouveau_Mario_en_approche_titre.jpg",
	"link":"http://www.yahoo.fr"},
	{"src":"http://www.vidalonline.com/vidal-theme/images/pub.swf",
	"link":"",
	"width":"728",
	"height":"90"
	}
 ]
 </pre>

 Install :
 <ol>
 	<li> configure the multiple banners in the banner.json file 
 	<li> create a &lt;div id="banner"&gt;&lt;/div&gt; in your html file  
 	<li> load jquery in your html file
 	<li> load this banner.js in your html file and call rotateBanner() 
 </ol>
 <BR/><BR/><B>Version: </B>1.0<BR/><BR/><B>Author:</B> Cédric Levasseur
 <BR/>
	
</p>

<hr>



<!-- ========== METHOD SUMMARY =========== -->

	<a name="method_summary"><!-- --></a>
	<table border="1" cellpadding="3" cellspacing="0" width="100%">
		<tr bgcolor="#CCCCFF" class="TableHeadingColor">
			<td colspan=2>
				<font size="+2">
					<b>Method Summary</b>
				</font>
			</td>
		</tr>
	
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!rotateBanner">rotateBanner</a></b>(&lt;object&gt; target)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 rotateBanner is the main function of this script.
		      </td>
		   </tr>
		
	
	</table>
    <p>

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview"><span class="comment">/**
 * <span class="attrib">@fileoverview</span> This program insert a random image using jquery library 
 * 
 * the configuration of the images to be randomly display are in the banner.json file
 * this file can contain either images (jpg, png) or flash
 * here is a example of the banner.json file
 * &lt;pre&gt;
 * [
 	{"src":"http://www.numerikids.com/alpha/wp-content/uploads/2009/06/mario_bros.jpg",
 *	"link":"http://www.google.fr"},
 *	{"src":"http://monophonik.com/wp-content/uploads/2009/06/mario-wii.jpg",
 *	"link":"http://www.bing.com"},
 *	{"src":"http://www.nintendolesite.com/images/news/news_Nouveau_Mario_en_approche_titre.jpg",
 *	"link":"http://www.yahoo.fr"},
 *	{"src":"http://www.vidalonline.com/vidal-theme/images/pub.swf",
 *	"link":"",
 *	"width":"728",
 *	"height":"90"
 *	}
 * ]
 * &lt;/pre&gt;
 *
 * Install :
 * &lt;ol&gt;
 * 	&lt;li&gt; configure the multiple banners in the banner.json file 
 * 	&lt;li&gt; create a &amp;lt;div id="banner"&amp;gt;&amp;lt;/div&amp;gt; in your html file  
 * 	&lt;li&gt; load jquery in your html file
 * 	&lt;li&gt; load this banner.js in your html file and call rotateBanner() 
 * &lt;/ol&gt;
 * <span class="attrib">@author</span> Cédric Levasseur
 * <span class="attrib">@version</span> 1.0
 *
 */</span>


<span class="comment">/**
 * The bootstrap which load the script
 */</span>
$(document).ready(<span class="reserved">function</span>() {
  rotateBanner();
});


<span class="comment">/**
 * rotateBanner is the main function of this script. It is loaded when
 * the html document finished to load by a bootstrap.
 * <span class="attrib">@param</span> {object} target a html element, member of the Document Object Model. If empty, it use &amp;lt;div id="banner"&amp;gt;
 * this method call for a banner.json file
 */</span>
<span class="reserved">function</span> rotateBanner(target){
	<span class="comment">//loadJQuery();</span>
	<span class="reserved">if</span>(typeof target === <span class="literal">'undefined'</span> || !target) {
		target=$(<span class="literal">"#banner"</span>);
	}
	$.getJSON(<span class="literal">'banner.json'</span>, <span class="reserved">function</span>(data) {
		elem=randomize(data);
		insertElement(target,elem);
	});
}

<span class="comment">/**
 * To prevent multiple load of jquery
 * NO LONGER USED, be sure to load JQUERY before using this  banner.js
 * <span class="attrib">@private</span>
 * <span class="attrib">@deprecated</span>
 */</span>
window.onload = <span class="reserved">function</span> () {

	 <span class="reserved">function</span> loadJQuery(){
	  <span class="reserved">if</span> (window.jQuery === undefined) {
	    var script = document.createElement(<span class="literal">'script'</span>);
	    script.src = <span class="literal">'http://code.jquery.com/jquery-latest.min.js'</span>;
	    document.getElementsByTagName(<span class="literal">'head'</span>)[0].appendChild(script); <span class="comment">// load jQuery</span>
	  }
	}

}




<span class="comment">/**
 * randomize a data in this data array
 * <span class="attrib">@private</span>
 * <span class="attrib">@param</span> {array} data the array generated by reading the json file
 */</span>
<span class="reserved">function</span> randomize(data){
	var numLow = 0;
	var numHigh = data.length-1;
	var adjustedHigh = (parseFloat(numHigh) - parseFloat(numLow)) + 1;
	var numRand = Math.floor(Math.random()*adjustedHigh) + parseFloat(numLow);
	<span class="reserved">return</span> data[numRand];
}


<span class="comment">/**
 * insert the Element (image or flash) in the &amp;lt;div id="banner"&amp;gt;
 * <span class="attrib">@private</span>
 * <span class="attrib">@param</span> {object} target a html element, member of the Document Object Model
 * <span class="attrib">@param</span> {object} a item of a data (img or flash)
 *
 */</span>
<span class="reserved">function</span> insertElement(target,elem){
	ext=elem.src.substring(elem.src.length-3, elem.src.length);
	<span class="reserved">if</span>(ext==<span class="literal">'swf'</span>){
		target.append(<span class="literal">'&lt;object width="'</span>+elem.width+<span class="literal">'" height="'</span>+elem.height+<span class="literal">'"data="'</span>+elem.src+<span class="literal">'" type="application/x-shockwave-flash"&gt;&lt;param value="'</span>+elem.src+<span class="literal">'" name="movie"&gt;&lt;param value="true" name="loop"&gt;&lt;/object&gt;'</span>);	
	}<span class="reserved">else</span>{
		<span class="comment">// jpg or png</span>
		target.append(<span class="literal">"&lt;a href='"</span>+elem.link+<span class="literal">"'&gt;&lt;img src='"</span>+elem.src+<span class="literal">"' /&gt;&lt;/a&gt;"</span>);
	}
}
</pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">

</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Thu Oct 28 15:12:28 2010</div>
</body>
</html>
